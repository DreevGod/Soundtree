<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soundtree | Музыкальные корни СНГ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Глобальные переменные */
    :root {
      --primary: #1DB954;
      --dark: #121212;
      --dark-gray: #181818;
      --medium-gray: #282828;
      --light-gray: #b3b3b3;
      --text: #ffffff;
      --accent: #FF5E3A;
    }
    
    /* Сброс и базовые стили */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body 

<div id="upload-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:10000; padding:20px; overflow:auto;">
  <div style="max-width:600px; margin:40px auto; background:#181818; border-radius:15px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.5);">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:25px;">
      <h2 style="font-size:28px;">Загрузка трека</h2>
      <button onclick="closeUploadModal()" style="background:none; border:none; color:#aaa; font-size:24px; cursor:pointer;">✕</button>
    </div>
    
    <form id="upload-form" style="display:grid; gap:20px;">
      <!-- Поле для трека -->
      <div class="upload-field">
        <label style="display:block; margin-bottom:10px; font-weight:500;">Аудиофайл (MP3, WAV, FLAC)</label>
        <div id="drop-zone" style="border:2px dashed #333; border-radius:10px; padding:40px 20px; text-align:center; cursor:pointer; transition:all 0.3s;">
          <i class="fas fa-cloud-upload-alt" style="font-size:48px; color:#444; margin-bottom:15px;"></i>
          <p style="margin-bottom:10px;">Перетащите аудиофайл сюда</p>
          <p style="color:#777; font-size:14px;">Или нажмите для выбора файла</p>
          <p style="color:#777; font-size:12px; margin-top:5px;">Макс. размер: 100 MB</p>
          <input type="file" id="audio-file" accept="audio/*" style="display:none;">
        </div>
        <div id="file-info" style="margin-top:10px; display:none;">
          <p><i class="fas fa-music"></i> <span id="file-name"></span> (<span id="file-size"></span>)</p>
          <div id="upload-progress" style="height:6px; background:#333; border-radius:3px; margin-top:10px; overflow:hidden;">
            <div id="progress-bar" style="height:100%; width:0%; background:#1DB954; transition:width 0.3s;"></div>
          </div>
          <p id="progress-text" style="text-align:center; margin-top:5px; font-size:14px;">Подготовка к загрузке...</p>
        </div>
      </div>
      
      <!-- Поля ввода -->
      <div class="form-row" style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
        <div class="upload-field">
          <label>Название трека</label>
          <input type="text" id="track-title" required style="width:100%; padding:12px; background:#232323; border:1px solid #333; border-radius:8px; color:white;">
        </div>
        
        <div class="upload-field">
          <label>Псевдоним</label>
          <input type="text" id="artist-name" required style="width:100%; padding:12px; background:#232323; border:1px solid #333; border-radius:8px; color:white;">
        </div>
      </div>
      
      <div class="form-row" style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
        <div class="upload-field">
          <label>Город</label>
          <select id="city" required style="width:100%; padding:12px; background:#232323; border:1px solid #333; border-radius:8px; color:white;">
            <option value="">Выберите город</option>
            <option>Москва</option>
            <option>Санкт-Петербург</option>
            <option>Казань</option>
            <option>Екатеринбург</option>
            <option>Алматы</option>
            <option>Минск</option>
            <option>Киев</option>
            <option>Ташкент</option>
          </select>
        </div>
        
        <div class="upload-field">
          <label>Жанр</label>
          <select id="genre" required style="width:100%; padding:12px; background:#232323; border:1px solid #333; border-radius:8px; color:white;">
            <option value="">Выберите жанр</option>
            <option>Рэп</option>
            <option>Поп</option>
            <option>Рок</option>
            <option>Электроника</option>
            <option>R&B</option>
            <option>Фолк</option>
            <option>Джаз</option>
            <option>Классика</option>
          </select>
        </div>
      </div>
      
      <!-- Обложка -->
      <div class="upload-field">
        <label>Обложка трека</label>
        <div style="display:flex; gap:15px; align-items:center;">
          <div id="cover-preview" style="width:120px; height:120px; background:#232323; border:1px dashed #444; border-radius:8px; display:flex; align-items:center; justify-content:center; overflow:hidden;">
            <i class="fas fa-image" style="font-size:32px; color:#444;"></i>
          </div>
          <div>
            <button type="button" onclick="document.getElementById('cover-file').click()" style="background:#333; color:white; border:none; padding:10px 15px; border-radius:6px; cursor:pointer;">
              Выбрать файл
            </button>
            <input type="file" id="cover-file" accept="image/*" style="display:none;">
          </div>
        </div>
      </div>
      
      <!-- Описание -->
      <div class="upload-field">
        <label>Описание (необязательно)</label>
        <textarea id="description" style="width:100%; min-height:100px; padding:12px; background:#232323; border:1px solid #333; border-radius:8px; color:white; resize:vertical;"></textarea>
      </div>
      
      <!-- Кнопка отправки -->
      <button type="submit" id="submit-btn" style="background:#1DB954; color:white; border:none; padding:15px; border-radius:50px; font-size:18px; font-weight:600; cursor:pointer; transition:background 0.3s;">
        Опубликовать трек
      </button>
    </form>
  </div>
</div>

<button onclick="openUploadModal()" id="upload-button" style="position:fixed; bottom:30px; right:30px; width:60px; height:60px; border-radius:50%; background:#1DB954; color:white; border:none; font-size:24px; box-shadow:0 5px 15px rgba(0,0,0,0.3); cursor:pointer; display:flex; align-items:center; justify-content:center;">
  <i class="fas fa-plus"></i>
</button>

<script>
// Конфигурация
const CONFIG = {
  UPLOAD_API: "https://api.upload.io/v2/accounts/kW15b/uploads/form_data", // Замени на свой
  PUBLIC_KEY: "public_kW15b7x8k4q8eHd9gF4d9RkXftXe" // Замени на свой ключ
};

// Открытие/закрытие модального окна
function openUploadModal() {
  document.getElementById('upload-modal').style.display = 'block';
}
function closeUploadModal() {
  document.getElementById('upload-modal').style.display = 'none';
  resetForm();
}

// Сброс формы
function resetForm() {
  document.getElementById('upload-form').reset();
  document.getElementById('file-info').style.display = 'none';
  document.getElementById('cover-preview').innerHTML = '<i class="fas fa-image" style="font-size:32px; color:#444;"></i>';
}

// Обработка перетаскивания файла
const dropZone = document.getElementById('drop-zone');
const fileInput = document.getElementById('audio-file');

dropZone.addEventListener('click', () => fileInput.click());

['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
  dropZone.addEventListener(eventName, preventDefaults, false);
});

function preventDefaults(e) {
  e.preventDefault();
  e.stopPropagation();
}

['dragenter', 'dragover'].forEach(eventName => {
  dropZone.addEventListener(eventName, () => {
    dropZone.style.borderColor = '#1DB954';
    dropZone.style.backgroundColor = 'rgba(29, 185, 84, 0.1)';
  }, false);
});

['dragleave', 'drop'].forEach(eventName => {
  dropZone.addEventListener(eventName, () => {
    dropZone.style.borderColor = '#333';
    dropZone.style.backgroundColor = 'transparent';
  }, false);
});

dropZone.addEventListener('drop', handleDrop, false);

function handleDrop(e) {
  const dt = e.dataTransfer;
  const files = dt.files;
  handleFiles(files);
}

fileInput.addEventListener('change', () => {
  handleFiles(fileInput.files);
});

function handleFiles(files) {
  if (files.length > 0) {
    const file = files[0];
    
    // Проверка типа файла
    if (!file.type.startsWith('audio/')) {
      alert('Пожалуйста, выберите аудиофайл (MP3, WAV, FLAC)');
      return;
    }
    
    // Проверка размера
    if (file.size > 100 * 1024 * 1024) { // 100 MB
      alert('Файл слишком большой! Максимальный размер: 100 MB');
      return;
    }
    
    // Показываем информацию о файле
    document.getElementById('file-name').textContent = file.name;
    document.getElementById('file-size').textContent = formatFileSize(file.size);
    document.getElementById('file-info').style.display = 'block';
    
    // Сохраняем файл для последующей загрузки
    window.selectedAudioFile = file;
  }
}

// Превью обложки
document.getElementById('cover-file').addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file && file.type.startsWith('image/')) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('cover-preview').innerHTML = 
        `<img src="${e.target.result}" style="width:100%; height:100%; object-fit:cover;">`;
    };
    reader.readAsDataURL(file);
  }
});

// Обработка отправки формы
document.getElementById('upload-form').addEventListener('submit', async function(e) {
  e.preventDefault();
  
  if (!window.selectedAudioFile) {
    alert('Пожалуйста, выберите аудиофайл');
    return;
  }
  
  const trackData = {
    title: document.getElementById('track-title').value,
    artist: document.getElementById('artist-name').value,
    city: document.getElementById('city').value,
    genre: document.getElementById('genre').value,
    description: document.getElementById('description').value,
    audioFile: window.selectedAudioFile
  };
  
  // Показываем прогресс
  document.getElementById('submit-btn').disabled = true;
  document.getElementById('progress-text').textContent = 'Загрузка...';
  
  try {
    // 1. Загружаем аудиофайл
    const audioUrl = await uploadFile(trackData.audioFile);
    
    // 2. Загружаем обложку (если есть)
    let coverUrl = '';
    const coverInput = document.getElementById('cover-file');
    if (coverInput.files.length > 0) {
      coverUrl = await uploadFile(coverInput.files[0]);
    }
    
    // 3. Сохраняем метаданные
    await saveTrackMetadata({
      ...trackData,
      audioUrl,
      coverUrl,
      timestamp: new Date().toISOString()
    });
    
    // 4. Показываем успех
    document.getElementById('progress-text').innerHTML = 
      '<span style="color:#1DB954;">Трек успешно загружен!</span>';
    
    // 5. Автоматически добавляем на сайт через 5 секунд
    setTimeout(() => {
      closeUploadModal();
      addTrackToSite(trackData, audioUrl, coverUrl);
      alert(`Трек "${trackData.title}" опубликован!`);
    }, 5000);
    
  } catch (error) {
    document.getElementById('progress-text').innerHTML = 
      `<span style="color:#FF5E3A;">Ошибка: ${error.message}</span>`;
    document.getElementById('submit-btn').disabled = false;
  }
});

// Функция загрузки файла
async function uploadFile(file) {
  return new Promise((resolve, reject) => {
    const formData = new FormData();
    formData.append('file', file);
    
    const xhr = new XMLHttpRequest();
    
    // Прогресс загрузки
    xhr.upload.addEventListener('progress', function(e) {
      if (e.lengthComputable) {
        const percent = (e.loaded / e.total) * 100;
        document.getElementById('progress-bar').style.width = percent + '%';
        document.getElementById('progress-text').textContent = 
          `Загрузка: ${Math.round(percent)}%`;
      }
    });
    
    xhr.onreadystatechange = function() {
      if (xhr.readyState === 4) {
        if (xhr.status === 200) {
          const response = JSON.parse(xhr.responseText);
          resolve(response.fileUrl);
        } else {
          reject(new Error('Ошибка загрузки файла'));
        }
      }
    };
    
    xhr.open('POST', CONFIG.UPLOAD_API, true);
    xhr.setRequestHeader('Authorization', `Bearer ${CONFIG.PUBLIC_KEY}`);
    xhr.send(formData);
  });
}

// Сохранение метаданных (упрощенная версия)
async function saveTrackMetadata(data) {
  // В реальном приложении здесь будет запрос к вашему бэкенду
  console.log('Метаданные трека:', data);
  return new Promise(resolve => setTimeout(resolve, 1000));
}

// Добавление трека на сайт
function addTrackToSite(trackData, audioUrl, coverUrl) {
  const trackCard = document.createElement('div');
  trackCard.className = 'track-card';
  trackCard.innerHTML = `
    <img src="${coverUrl || 'https://images.unsplash.com/photo-1494232410401-ad00d5433cfa'}" 
         class="track-image">
    <div class="track-info">
      <h3>${trackData.title}</h3>
      <div class="track-artist">
        <i class="fas fa-user"></i> ${trackData.artist} (${trackData.city})
      </div>
      <div class="wave-player">
        <!-- Плеер будет здесь -->
      </div>
    </div>
  `;
  
  // Добавляем в начало списка
  document.querySelector('.tracks-grid').prepend(trackCard);
  
  // Инициализируем плеер
  initPlayerForTrack(trackCard, audioUrl);
}

// Вспомогательные функции
function formatFileSize(bytes) {
  if (bytes < 1024) return bytes + ' bytes';
  else if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
  else return (bytes / 1048576).toFixed(1) + ' MB';
}
</script>

  
  // Добавляем в начало списка
  document.querySelector(".tracks-grid").insertAdjacentHTML("afterbegin", trackHTML);
}
</script>

<div id="upload-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; padding:20px;">
  <div style="background:#181818; max-width:500px; margin:50px auto; padding:30px; border-radius:15px;">
    <h2>Загрузи свой трек</h2>
    
    <form id="track-form">
      <input type="text" placeholder="Название трека" required style="width:100%; padding:12px; margin:10px 0; background:#232323; border:none; color:white;">
      
      <input type="text" placeholder="Твой псевдоним" required style="width:100%; padding:12px; margin:10px 0; background:#232323; border:none; color:white;">
      
      <select required style="width:100%; padding:12px; margin:10px 0; background:#232323; border:none; color:white;">
        <option value="">Выбери город</option>
        <option>Москва</option>
        <option>Алматы</option>
        <option>Киев</option>
        <!-- Добавь другие города -->
      </select>
      
      <input type="url" placeholder="Ссылка на трек (Google Drive, Dropbox)" required style="width:100%; padding:12px; margin:10px 0; background:#232323; border:none; color:white;">
      
      <button type="submit" style="background:#1DB954; color:white; border:none; padding:15px; width:100%; margin-top:20px; font-weight:bold; cursor:pointer;">
        Отправить
      </button>
    </form>
    
    <button onclick="document.getElementById('upload-modal').style.display='none'" style="background:none; border:none; color:#aaa; position:absolute; top:20px; right:20px; font-size:24px;">
      ✕
    </button>
  </div>
</div>

<!-- Кнопка вызова формы -->
<button onclick="document.getElementById('upload-modal').style.display='block'" style="
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #1DB954;
  color: white;
  border: none;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  font-size: 24px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  cursor: pointer;
">
  +
</button>


<script>
  // Конфигурация
  const CONFIG = {
    telegramBot: "SoundtreeAuthBot",
    cities: ["Москва", "СПб", "Казань", "Екатеринбург", "Алматы", "Минск", "Киев", "Астана"],
    apiEndpoint: "https://your-backend-api.com" // Замени на реальный API
  };

  // Реальные треки для демо (замени на свои)
  const TRACKS = [
    {
      id: 1,
      title: "Восточный Бит",
      artist: "Казань Волна",
      city: "Казань",
      cover: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745",
      audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
      duration: "3:45"
    },
    {
      id: 2,
      title: "Сибирские Просторы",
      artist: "Алёна из Томска",
      city: "СПб",
      cover: "https://images.unsplash.com/photo-1494232410401-ad00d5433cfa",
      audio: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
      duration: "4:20"
    }
  ];

  // Инициализация плеера
  function initPlayer() {
    const audio = new Audio();
    let currentTrack = null;
    
    // Создаем элементы для всех треков
    TRACKS.forEach(track => {
      const playerHTML = `
        <div class="wave-player" data-id="${track.id}">
          <div class="waveform">
            <canvas class="wave-canvas"></canvas>
          </div>
          <div class="player-controls">
            <button class="play-btn" onclick="playTrack(${track.id})">
              <i class="fas fa-play"></i>
            </button>
            <div class="progress-container">
              <div class="progress-bar">
                <div class="progress"></div>
              </div>
              <div class="time">0:00 / ${track.duration}</div>
            </div>
          </div>
        </div>
      `;
      
      document.querySelector(`.track-card[data-id="${track.id}"] .track-info`)
        .insertAdjacentHTML('beforeend', playerHTML);
    });
    
    // Функция воспроизведения
    window.playTrack = function(trackId) {
      const track = TRACKS.find(t => t.id === trackId);
      
      if(currentTrack === trackId) {
        // Пауза/воспроизведение текущего трека
        if(audio.paused) {
          audio.play();
          document.querySelector(`.play-btn[onclick="playTrack(${trackId})"] i`)
            .classList.replace('fa-play', 'fa-pause');
        } else {
          audio.pause();
          document.querySelector(`.play-btn[onclick="playTrack(${trackId})"] i`)
            .classList.replace('fa-pause', 'fa-play');
        }
      } else {
        // Новый трек
        currentTrack = trackId;
        audio.src = track.audio;
        audio.play();
        
        // Обновляем иконки
        document.querySelectorAll('.play-btn i').forEach(icon => {
          icon.classList.replace('fa-pause', 'fa-play');
        });
        document.querySelector(`.play-btn[onclick="playTrack(${trackId})"] i`)
          .classList.replace('fa-play', 'fa-pause');
        
        // Обновляем время
        audio.ontimeupdate = function() {
          const minutes = Math.floor(audio.currentTime / 60);
          const seconds = Math.floor(audio.currentTime % 60);
          document.querySelector(`.wave-player[data-id="${trackId}"] .time`)
            .textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds} / ${track.duration}`;
            
          const progress = (audio.currentTime / audio.duration) * 100;
          document.querySelector(`.wave-player[data-id="${trackId}"] .progress`)
            .style.width = `${progress}%`;
        };
      }
    };
  }

  // Инициализация авторизации
  function initAuth() {
    const authButton = document.getElementById('authButton');
    
    // Проверяем, авторизован ли пользователь
    const savedUser = localStorage.getItem('soundtree_user');
    if(savedUser) {
      const user = JSON.parse(savedUser);
      showUserProfile(user);
    }
    
    // Обработчик кнопки
    authButton.addEventListener('click', function(e) {
      e.preventDefault();
      initTelegramAuth();
    });
  }

  // Показываем профиль пользователя
  function showUserProfile(user) {
    const authSection = document.querySelector('.auth-section');
    authSection.innerHTML = `
      <div class="user-profile">
        <img src="${user.photoUrl || 'https://cdn-icons-png.flaticon.com/512/3135/3135715.png'}" 
             class="user-avatar">
        <span>${user.firstName}</span>
        <button onclick="logout()" class="logout-btn">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    `;
  }

  // Telegram авторизация
  function initTelegramAuth() {
    window.TelegramAuth = {
      onAuth: function(user) {
        // Сохраняем пользователя
        localStorage.setItem('soundtree_user', JSON.stringify(user));
        showUserProfile(user);
        alert(`Добро пожаловать, ${user.firstName}!`);
      }
    };

    const script = document.createElement('script');
    script.src = `https://telegram.org/js/telegram-widget.js?22?bot=${CONFIG.telegramBot}`;
    script.async = true;
    document.body.appendChild(script);
  }

  // Выход из системы
  window.logout = function() {
    localStorage.removeItem('soundtree_user');
    location.reload();
  }

  // Загрузка контента
  function loadContent() {
    // Загружаем треки
    const tracksGrid = document.querySelector('.tracks-grid');
    tracksGrid.innerHTML = '';
    
    TRACKS.forEach(track => {
      const trackHTML = `
        <div class="track-card" data-id="${track.id}">
          <img src="${track.cover}" alt="${track.title}" class="track-image">
          <div class="track-info">
            <h3 class="track-title">${track.title}</h3>
            <div class="track-artist">
              <i class="fas fa-user"></i> ${track.artist}
            </div>
            <div class="track-city">
              <i class="fas fa-map-marker-alt"></i> ${track.city}
            </div>
            <!-- Плеер добавится через initPlayer -->
          </div>
        </div>
      `;
      tracksGrid.insertAdjacentHTML('beforeend', trackHTML);
    });
    
    // Инициализируем плеер после загрузки треков
    initPlayer();
  }

  // Инициализация при загрузке страницы
  document.addEventListener('DOMContentLoaded', function() {
    initAuth();
    loadContent();
    
    // Мобильное меню
    document.getElementById('navToggle').addEventListener('click', function() {
      document.getElementById('mainNav').classList.toggle('active');
    });
  });
</script>


{
      background: var(--dark);
      color: var(--text);
      font-family: 'Montserrat', sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      padding-bottom: 80px;
    }
    
    /* Шапка - полностью переработана */
    header {
      background: rgba(18, 18, 18, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px 5%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid #333;
    }
    
    .logo {
      font-size: 24px;
      font-weight: 700;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .logo i {
      font-size: 28px;
    }
    
    .nav-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--text);
      font-size: 24px;
      cursor: pointer;
    }
    
    nav {
      display: flex;
      gap: 25px;
    }
    
    nav a {
      color: var(--light-gray);
      text-decoration: none;
      font-weight: 500;
      font-size: 16px;
      transition: all 0.3s ease;
      position: relative;
    }
    
    nav a.active, nav a:hover {
      color: var(--text);
    }
    
    nav a.active::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--primary);
      border-radius: 3px;
    }
    
    .auth-section {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .auth-button {
      background: var(--primary);
      color: white;
      padding: 10px 20px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.2s, background 0.3s;
    }
    
    .auth-button:hover {
      background: #1ed760;
      transform: translateY(-2px);
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--primary);
      cursor: pointer;
    }
    
    /* Основной контент */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }
    
    /* Герой-секция */
    .hero {
      text-align: center;
      padding: 60px 20px;
      background: linear-gradient(135deg, #1a2a3a 0%, #0d1b2a 100%);
      border-radius: 15px;
      margin: 20px 0 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    
    .hero h1 {
      font-size: 2.8rem;
      margin-bottom: 15px;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .hero p {
      font-size: 1.2rem;
      max-width: 700px;
      margin: 0 auto 30px;
      color: #c5d4e0;
    }
    
    .cta-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .btn {
      padding: 14px 30px;
      border-radius: 50px;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s ease;
    }
    
    .btn-primary {
      background: var(--primary);
      color: white;
    }
    
    .btn-primary:hover {
      background: #1ed760;
      transform: translateY(-3px);
      box-shadow: 0 7px 15px rgba(29, 185, 84, 0.3);
    }
    
    .btn-outline {
      background: transparent;
      color: var(--text);
      border: 2px solid var(--text);
    }
    
    .btn-outline:hover {
      background: rgba(255,255,255,0.1);
      transform: translateY(-3px);
    }
    
    /* Секция с треками */
    .section-title {
      font-size: 1.8rem;
      margin: 40px 0 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--medium-gray);
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .section-title i {
      color: var(--primary);
    }
    
    .tracks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
    }
    
    .track-card {
      background: var(--dark-gray);
      border-radius: 12px;
      overflow: hidden;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
    }
    
    .track-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.4);
    }
    
    .track-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      display: block;
    }
    
    .track-info {
      padding: 20px;
    }
    
    .track-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .track-artist {
      color: var(--light-gray);
      font-size: 0.95rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .track-artist i {
      font-size: 0.8rem;
      color: var(--primary);
    }
    
    /* Плеер - полностью переработан */
    .wave-player {
      background: var(--medium-gray);
      border-radius: 10px;
      padding: 15px;
      margin-top: 10px;
      position: relative;
    }
    
    .waveform {
      height: 80px;
      background: #232323;
      border-radius: 8px;
      position: relative;
      overflow: hidden;
    }
    
    .waveform::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 60%;
      background: linear-gradient(90deg, var(--primary), #4cd964);
      border-radius: 8px;
    }
    
    .wave-lines {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      padding: 10px;
    }
    
    .wave-line {
      width: 4px;
      background: rgba(255,255,255,0.2);
      border-radius: 2px;
    }
    
    .player-controls {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 15px;
    }
    
    .play-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: var(--primary);
      border: none;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .play-btn:hover {
      transform: scale(1.1);
    }
    
    .progress-container {
      flex-grow: 1;
    }
    
    .progress-bar {
      height: 5px;
      background: #444;
      border-radius: 3px;
      overflow: hidden;
      position: relative;
    }
    
    .progress {
      height: 100%;
      width: 45%;
      background: var(--primary);
      border-radius: 3px;
    }
    
    .time {
      display: flex;
      justify-content: space-between;
      margin-top: 5px;
      font-size: 0.8rem;
      color: var(--light-gray);
    }
    
    .volume-control {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--light-gray);
    }
    
    .volume-slider {
      width: 80px;
      -webkit-appearance: none;
      height: 4px;
      background: #444;
      border-radius: 2px;
      outline: none;
    }
    
    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 12px;
      height: 12px;
      background: var(--primary);
      border-radius: 50%;
      cursor: pointer;
    }
    
    /* Футер */
    footer {
      background: var(--dark-gray);
      padding: 40px 20px;
      text-align: center;
      margin-top: 60px;
    }
    
    .footer-content {
      max-width: 1000px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      text-align: left;
    }
    
    .footer-column h3 {
      font-size: 1.2rem;
      margin-bottom: 20px;
      color: var(--text);
      position: relative;
      padding-bottom: 10px;
    }
    
    .footer-column h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--primary);
      border-radius: 3px;
    }
    
    .footer-links {
      list-style: none;
    }
    
    .footer-links li {
      margin-bottom: 12px;
    }
    
    .footer-links a {
      color: var(--light-gray);
      text-decoration: none;
      transition: color 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .footer-links a:hover {
      color: var(--primary);
    }
    
    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }
    
    .social-links a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--medium-gray);
      color: var(--text);
      font-size: 18px;
      transition: all 0.3s;
    }
    
    .social-links a:hover {
      background: var(--primary);
      transform: translateY(-3px);
    }
    
    .copyright {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #333;
      color: var(--light-gray);
      font-size: 0.9rem;
    }
    
    /* Адаптивность */
    @media (max-width: 992px) {
      .hero h1 {
        font-size: 2.2rem;
      }
      
      .tracks-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
    }
    
    @media (max-width: 768px) {
      .nav-toggle {
        display: block;
      }
      
      nav {
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background: var(--dark);
        flex-direction: column;
        align-items: center;
        padding: 20px;
        gap: 20px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        transform: translateY(-150%);
        transition: transform 0.4s ease;
        z-index: 999;
      }
      
      nav.active {
        transform: translateY(0);
      }
      
      .hero {
        padding: 40px 15px;
      }
      
      .hero h1 {
        font-size: 1.8rem;
      }
      
      .cta-buttons {
        flex-direction: column;
        gap: 15px;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .logo {
        font-size: 20px;
      }
      
      .auth-button span {
        display: none;
      }
      
      .auth-button {
        padding: 10px;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        justify-content: center;
      }
      
      .track-card {
        border-radius: 10px;
      }
      
      .wave-player {
        padding: 12px;
      }
      
      .player-controls {
        gap: 10px;
      }
      
      .volume-control {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Шапка -->
  <header>
    <div class="logo">
      <i class="fas fa-tree"></i>
      <span>Soundtree</span>
    </div>
    
    <button class="nav-toggle" id="navToggle">
      <i class="fas fa-bars"></i>
    </button>
    
    <nav id="mainNav">
      <a href="index.html" class="active">Главная</a>
      <a href="cities.html">Города</a>
      <a href="top.html">Топ недели</a>
      <a href="artists.html">Артисты</a>
    </nav>
    
    <div class="auth-section">
      <a href="#" class="auth-button" id="authButton">
        <i class="fab fa-telegram"></i>
        <span>Войти</span>
      </a>
      <!-- После входа будет отображаться аватар -->
      <!-- <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" class="user-avatar"> -->
    </div>
  </header>

  <!-- Основной контент -->
  <div class="container">
    <!-- Герой-секция -->
    <section class="hero">
      <h1>Музыкальные корни СНГ</h1>
      <p>Площадка для независимых артистов из России, Казахстана, Беларуси и других стран Содружества</p>
      
      <div class="cta-buttons">
        <a href="#" class="btn btn-primary">
          <i class="fas fa-headphones"></i>
          Слушать сейчас
        </a>
        <a href="#" class="btn btn-outline">
          <i class="fas fa-upload"></i>
          Загрузить трек
        </a>
      </div>
    </section>
    
    <!-- Популярные треки -->
    <h2 class="section-title">
      <i class="fas fa-fire"></i>
      Популярные треки
    </h2>
    
    <div class="tracks-grid">
      <!-- Трек 1 -->
      <div class="track-card">
        <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" 
             alt="Обложка трека" class="track-image">
        <div class="track-info">
          <h3 class="track-title">Восточный Бит</h3>
          <div class="track-artist">
            <i class="fas fa-user"></i>
            Казань Волна
          </div>
          
          <!-- Плеер -->
          <div class="wave-player">
            <div class="waveform">
              <div class="wave-lines">
                <div class="wave-line" style="height: 40%"></div>
                <div class="wave-line" style="height: 70%"></div>
                <div class="wave-line" style="height: 30%"></div>
                <div class="wave-line" style="height: 90%"></div>
                <div class="wave-line" style="height: 50%"></div>
                <div class="wave-line" style="height: 80%"></div>
                <div class="wave-line" style="height: 60%"></div>
                <div class="wave-line" style="height: 45%"></div>
                <div class="wave-line" style="height: 75%"></div>
                <div class="wave-line" style="height: 65%"></div>
              </div>
            </div>
            
            <div class="player-controls">
              <button class="play-btn">
                <i class="fas fa-play"></i>
              </button>
              
              <div class="progress-container">
                <div class="progress-bar">
                  <div class="progress"></div>
                </div>
                <div class="time">
                  <span>1:25</span>
                  <span>3:40</span>
                </div>
              </div>
              
              <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" class="volume-slider" min="0" max="100" value="80">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Трек 2 -->
      <div class="track-card">
        <img src="https://images.unsplash.com/photo-1494232410401-ad00d5433cfa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" 
             alt="Обложка трека" class="track-image">
        <div class="track-info">
          <h3 class="track-title">Сибирские Просторы</h3>
          <div class="track-artist">
            <i class="fas fa-user"></i>
            Алёна из Томска
          </div>
          
          <!-- Плеер -->
          <div class="wave-player">
            <div class="waveform">
              <div class="wave-lines">
                <div class="wave-line" style="height: 60%"></div>
                <div class="wave-line" style="height: 30%"></div>
                <div class="wave-line" style="height: 80%"></div>
                <div class="wave-line" style="height: 40%"></div>
                <div class="wave-line" style="height: 70%"></div>
                <div class="wave-line" style="height: 50%"></div>
                <div class="wave-line" style="height: 90%"></div>
                <div class="wave-line" style="height: 35%"></div>
                <div class="wave-line" style="height: 65%"></div>
                <div class="wave-line" style="height: 55%"></div>
              </div>
            </div>
            
            <div class="player-controls">
              <button class="play-btn">
                <i class="fas fa-play"></i>
              </button>
              
              <div class="progress-container">
                <div class="progress-bar">
                  <div class="progress"></div>
                </div>
                <div class="time">
                  <span>0:45</span>
                  <span>4:20</span>
                </div>
              </div>
              
              <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" class="volume-slider" min="0" max="100" value="80">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Трек 3 -->
      <div class="track-card">
        <img src="https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" 
             alt="Обложка трека" class="track-image">
        <div class="track-info">
          <h3 class="track-title">Степной Ветер</h3>
          <div class="track-artist">
            <i class="fas fa-user"></i>
            Darkhan
          </div>
          
          <!-- Плеер -->
          <div class="wave-player">
            <div class="waveform">
              <div class="wave-lines">
                <div class="wave-line" style="height: 50%"></div>
                <div class="wave-line" style="height: 80%"></div>
                <div class="wave-line" style="height: 40%"></div>
                <div class="wave-line" style="height: 70%"></div>
                <div class="wave-line" style="height: 30%"></div>
                <div class="wave-line" style="height: 90%"></div>
                <div class="wave-line" style="height: 60%"></div>
                <div class="wave-line" style="height: 45%"></div>
                <div class="wave-line" style="height: 75%"></div>
                <div class="wave-line" style="height: 65%"></div>
              </div>
            </div>
            
            <div class="player-controls">
              <button class="play-btn">
                <i class="fas fa-play"></i>
              </button>
              
              <div class="progress-container">
                <div class="progress-bar">
                  <div class="progress"></div>
                </div>
                <div class="time">
                  <span>2:15</span>
                  <span>3:50</span>
                </div>
              </div>
              
              <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" class="volume-slider" min="0" max="100" value="80">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Новые релизы -->
    <h2 class="section-title">
      <i class="fas fa-star"></i>
      Новые релизы
    </h2>
    
    <div class="tracks-grid">
      <!-- Трек 4 -->
      <div class="track-card">
        <img src="https://images.unsplash.com/photo-1470225620